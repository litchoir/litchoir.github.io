(self.webpackChunklit_choir_admin=self.webpackChunklit_choir_admin||[]).push([[720],{2720:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AdminModule:()=>mt});var i=n(8583),a=n(1834),o=n(7716),s=n(7282);const c=function(e){return{active:e,tab:!0}},r=function(){return["/admin"]},l=function(e){return{tab:e}};let d=(()=>{class e{constructor(){this.name="",this.isActive=!1}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Xpm({type:e,selectors:[["lc-nav-tab"]],inputs:{name:"name",isActive:"isActive"},decls:3,vars:11,consts:[[3,"ngClass","routerLink","queryParams"]],template:function(e,t){1&e&&(o.TgZ(0,"div",0),o._uU(1),o.ALo(2,"titlecase"),o.qZA()),2&e&&(o.Q6J("ngClass",o.VKq(6,c,t.isActive))("routerLink",o.DdM(8,r))("queryParams",o.VKq(9,l,t.name)),o.xp6(1),o.hij(" ",o.lcZ(2,4,t.name),"\n"))},directives:[i.mk,a.rH],pipes:[i.rS],styles:[""]}),e})();var g=n(1439),u=n(9193),p=n(6682),m=n(5917),h=n(8307),f=n(8002),v=n(4612),C=(()=>(function(e){e.Text="text",e.Image="image"}(C||(C={})),C))(),x=n(7633);function y(e,t){if(1&e&&(o.TgZ(0,"b"),o._uU(1,"Order of display"),o.qZA(),o._uU(2,": "),o._UZ(3,"br"),o._uU(4)),2&e){const e=o.oxw(2);o.xp6(4),o.hij(" ",e.tooltipMessage," ")}}function b(e,t){if(1&e&&(o.TgZ(0,"div",3),o.YNc(1,y,5,1,"ng-template",null,4,o.W1O),o.TgZ(3,"span",5),o._UZ(4,"i",6),o.qZA(),o.qZA()),2&e){const e=o.MAs(2);o.xp6(3),o.Q6J("ngbTooltip",e)}}const Z=["*"];let I=(()=>{class e{constructor(){this.title="",this.tooltipMessage=""}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Xpm({type:e,selectors:[["lc-section"]],inputs:{title:"title",tooltipMessage:"tooltipMessage"},ngContentSelectors:Z,decls:7,vars:2,consts:[[1,"outermost-div"],[1,"d-flex","align-items-center"],["class","information-tooltip",4,"ngIf"],[1,"information-tooltip"],["tooltipContent",""],["placement","top",3,"ngbTooltip"],[1,"bi","bi-info-circle"]],template:function(e,t){1&e&&(o.F$t(),o.TgZ(0,"div",0),o.TgZ(1,"h2",1),o.TgZ(2,"span"),o._uU(3),o.qZA(),o.YNc(4,b,5,1,"div",2),o.qZA(),o._UZ(5,"hr"),o.Hsn(6),o.qZA()),2&e&&(o.xp6(3),o.Oqu(t.title),o.xp6(1),o.Q6J("ngIf",t.tooltipMessage))},directives:[i.O5,x._L],styles:[".outermost-div[_ngcontent-%COMP%]{margin-top:75px}.information-tooltip[_ngcontent-%COMP%]{margin-left:7px;margin-bottom:10px}i[_ngcontent-%COMP%]{font-size:16px}"]}),e})();var S=n(42),T=n(2925);function w(e,t){1&e&&o._UZ(0,"div",7)}const A=function(e){return["bi",e]};function O(e,t){if(1&e&&(o.TgZ(0,"p",8),o._UZ(1,"i",9),o.TgZ(2,"span",10),o._uU(3),o.qZA(),o.qZA()),2&e){const e=o.oxw();o.xp6(1),o.Q6J("ngClass",o.VKq(2,A,"bi-"+e.editTextIcon)),o.xp6(2),o.Oqu(e.editTextMessage)}}function k(e,t){1&e&&o._UZ(0,"lc-spinner",11),2&e&&o.Q6J("colored",!0)}const M=function(e){return{"max-height":e}};let J=(()=>{class e{constructor(){this.index=0,this.displayWidth=0,this.displayHeight=0,this.aspectRatioWidth=5,this.aspectRatioHeight=2,this.enforceCompression=!0,this.src="",this.base64Computed=new o.vpe,this.maximumFileSizeBytes=1e6,this.allowedFileTypes=["image/png","image/jpeg"],this.base64="",this.imageIsDoneLoading=!1,this.imageError="Wtf! Something's broken!",this.editTextMessage="",this.editTextIcon="upload"}fileChange(e){var t;if(0===(null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.files.length))return;const n=e.target.files[0];if(console.log(n),this.enforceCompression&&n.size>this.maximumFileSizeBytes)return this.editTextMessage="File could not be saved. Please make sure your image is less than 1MB in size.",void(this.editTextIcon="exclamation-circle-fill");if(!this.allowedFileTypes.includes(n.type))return this.editTextMessage="File could not be saved. Please make sure your image is of type JPG or PNG.",void(this.editTextIcon="exclamation-circle-fill");const i=new FileReader;i.onload=e=>{const t=new Image;t.src=e.target.result,t.onload=()=>{this.editTextMessage="Lookin' good!",this.editTextIcon="check-circle-fill",this.base64=e.target.result,this.base64Computed.emit({index:this.index,newContent:this.base64.slice(this.base64.indexOf(",")+1)})}},i.readAsDataURL(n)}removeImage(){}showImage(){this.imageIsDoneLoading=!0}ngOnInit(){this.editTextMessage="Upload New"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Xpm({type:e,selectors:[["lc-editable-image"]],inputs:{index:"index",displayWidth:"displayWidth",displayHeight:"displayHeight",aspectRatioWidth:"aspectRatioWidth",aspectRatioHeight:"aspectRatioHeight",enforceCompression:"enforceCompression",src:"src"},outputs:{base64Computed:"base64Computed"},decls:8,vars:8,consts:[[1,"image-container"],["class","hoverableMask",4,"ngIf"],["class","editText",4,"ngIf"],[3,"colored",4,"ngIf"],[3,"src","hidden","ngStyle","click","load"],["type","file",3,"change"],["fileInputRef",""],[1,"hoverableMask"],[1,"editText"],[3,"ngClass"],[1,"editTextMessage"],[3,"colored"]],template:function(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"label"),o.TgZ(1,"div",0),o.YNc(2,w,1,0,"div",1),o.YNc(3,O,4,4,"p",2),o.YNc(4,k,1,1,"lc-spinner",3),o.TgZ(5,"img",4),o.NdJ("click",function(){return o.CHM(e),o.MAs(7).click()})("load",function(){return t.showImage()}),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6,"input",5,6),o.NdJ("change",function(e){return t.fileChange(e)}),o.qZA()}2&e&&(o.xp6(2),o.Q6J("ngIf",t.imageIsDoneLoading),o.xp6(1),o.Q6J("ngIf",t.imageIsDoneLoading),o.xp6(1),o.Q6J("ngIf",!t.imageIsDoneLoading),o.xp6(1),o.Q6J("src",t.base64||t.src,o.LSH)("hidden",!t.imageIsDoneLoading)("ngStyle",o.VKq(6,M,t.displayHeight?t.displayHeight+"px":"unset")))},directives:[i.O5,i.PC,i.mk,T.O],styles:["input[_ngcontent-%COMP%]{display:none}img[_ngcontent-%COMP%]{cursor:pointer;width:100%;height:100%}.image-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;position:relative}.image-container[_ngcontent-%COMP%]:hover{opacity:90%}.image-container[_ngcontent-%COMP%]:hover   .hoverableMask[_ngcontent-%COMP%]{display:block;pointer-events:none}.hoverableMask[_ngcontent-%COMP%]{display:none;height:100%;z-index:2}.editText[_ngcontent-%COMP%], .hoverableMask[_ngcontent-%COMP%]{width:100%;position:absolute}.editText[_ngcontent-%COMP%]{text-align:center;bottom:0;color:#fff;background-color:#c8c8c8;padding:5px 20px;z-index:3;pointer-events:none;font-weight:700}.editTextMessage[_ngcontent-%COMP%]{margin-left:5px}"]}),e})();const N=["input"];function U(e,t){if(1&e&&o._UZ(0,"input",10,11),2&e){const e=o.oxw();o.Q6J("value",e.value)}}function q(e,t){if(1&e&&(o.TgZ(0,"textarea",12,11),o._uU(2,"        "),o.qZA()),2&e){const e=o.oxw();o.Q6J("value",e.value)}}function L(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"lc-editable-image",13),o.NdJ("base64Computed",function(t){return o.CHM(e),o.oxw().storeBase64(t)}),o.qZA()}if(2&e){const e=o.oxw();o.Q6J("src",e.value)("enforceCompression",!1)("displayHeight",300)("index",0)}}function _(e,t){if(1&e&&(o.TgZ(0,"p",14),o._uU(1),o.qZA()),2&e){const e=o.oxw();o.Q6J("ngClass",e.validationStatus.isError?"error-message":"feedback-message"),o.xp6(1),o.hij(" ",e.validationStatus.message," ")}}function Q(e,t){1&e&&o._UZ(0,"lc-spinner",15),2&e&&o.Q6J("colored",!1)}function P(e,t){1&e&&o._UZ(0,"i",16)}let K=(()=>{class e{constructor(e,t){this.sharedService=e,this.router=t,this.title="",this.value="",this.type="text",this.topLevelKey="",this.isSingleLine=!0,this.textContentChanged=new o.vpe,this.isSaving=!1,this.validationStatus={message:"",isError:!1},this.editedBase64="",this.valueJustSaved=""}setValidationStatus(e,t,n=0,i=!1){this.isSaving=!1,this.validationStatus={message:e,isError:t},n&&setTimeout(()=>{this.validationStatus={message:"",isError:!1}},n),i&&setTimeout(()=>{this.router.navigateByUrl("/login")},n||1500)}saveTextValue(){this.isSaving=!0;const e=this.input.nativeElement.value;this.sharedService.putText({key:this.topLevelKey,val:e}).pipe((0,h.b)(()=>{this.valueJustSaved=e})).subscribe(this.completionCallback.bind(this),this.errorCallback.bind(this))}saveImageValue(){this.isSaving=!0,function(e,t=u.E,n=u.E){return(0,g.P)(()=>e()?t:n)}(()=>!!this.editedBase64,(0,p.T)(this.sharedService.deleteImage({imageUrl:this.value}),this.sharedService.putImage({content:this.editedBase64}).pipe((0,f.U)(e=>e.imageUrl),(0,h.b)(e=>{this.valueJustSaved=e}),(0,v.b)(e=>this.sharedService.putText({key:this.topLevelKey,val:e,mode:"UPDATE"})))),(0,m.of)(!0)).subscribe(()=>{},this.errorCallback.bind(this),this.completionCallback.bind(this))}storeBase64(e){this.editedBase64=e.newContent}completionCallback(){this.valueJustSaved&&this.textContentChanged.emit({mode:"UPDATE",key:this.topLevelKey,val:this.valueJustSaved}),this.valueJustSaved="",this.isSaving=!1,this.editedBase64="",this.setValidationStatus("Successfully saved!",!1,3e3)}errorCallback(e){403===e.status?this.setValidationStatus("You don't have permission. Redirecting to login screen",!0,0,!0):this.setValidationStatus("Something went wrong. Try again later",!0,3e3)}typeIsImage(){return this.type===C.Image}typeIsText(){return this.type===C.Text}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(s.F),o.Y36(a.F0))},e.\u0275cmp=o.Xpm({type:e,selectors:[["lc-single-editable-section"]],viewQuery:function(e,t){if(1&e&&o.Gf(N,5),2&e){let e;o.iGM(e=o.CRH())&&(t.input=e.first)}},inputs:{title:"title",value:"value",type:"type",topLevelKey:"topLevelKey",isSingleLine:"isSingleLine"},outputs:{textContentChanged:"textContentChanged"},decls:11,vars:9,consts:[[3,"title"],[1,"content-container"],[3,"value",4,"ngIf"],["rows","3",3,"value",4,"ngIf"],[3,"src","enforceCompression","displayHeight","index","base64Computed",4,"ngIf"],["class","validation-message",3,"ngClass",4,"ngIf"],[1,"button-container"],["type","primary",3,"isDisabled","buttonClick"],[3,"colored",4,"ngIf"],["class","bi bi-check-lg mr-1",4,"ngIf"],[3,"value"],["input",""],["rows","3",3,"value"],[3,"src","enforceCompression","displayHeight","index","base64Computed"],[1,"validation-message",3,"ngClass"],[3,"colored"],[1,"bi","bi-check-lg","mr-1"]],template:function(e,t){1&e&&(o.TgZ(0,"lc-section",0),o.TgZ(1,"div",1),o.YNc(2,U,2,1,"input",2),o.YNc(3,q,3,1,"textarea",3),o.YNc(4,L,1,4,"lc-editable-image",4),o.YNc(5,_,2,2,"p",5),o.TgZ(6,"div",6),o.TgZ(7,"lc-button",7),o.NdJ("buttonClick",function(){return t.typeIsText()?t.saveTextValue():t.saveImageValue()}),o.YNc(8,Q,1,1,"lc-spinner",8),o.YNc(9,P,1,0,"i",9),o._uU(10),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.Q6J("title",t.title),o.xp6(2),o.Q6J("ngIf",t.isSingleLine&&t.typeIsText()),o.xp6(1),o.Q6J("ngIf",!t.isSingleLine&&t.typeIsText()),o.xp6(1),o.Q6J("ngIf",t.typeIsImage()),o.xp6(1),o.Q6J("ngIf",t.validationStatus.message),o.xp6(2),o.Q6J("isDisabled",t.isSaving),o.xp6(1),o.Q6J("ngIf",t.isSaving),o.xp6(1),o.Q6J("ngIf",!t.isSaving),o.xp6(1),o.hij(" ",t.isSaving?"":"Save"," "))},directives:[I,i.O5,S.r,J,i.mk,T.O],styles:["@media screen and (min-width: 768px){input[_ngcontent-%COMP%]{width:50%}}@media screen and (max-width: 767px){input[_ngcontent-%COMP%]{width:100%}}input[_ngcontent-%COMP%]{height:35px;padding:0 5px}.content-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start}.button-container[_ngcontent-%COMP%]{margin-top:16px}.error-message[_ngcontent-%COMP%]{color:#e2241d}.validation-message[_ngcontent-%COMP%]{font-size:12px;margin-top:4px}.feedback-message[_ngcontent-%COMP%]{color:#2f7ad0}"]}),e})();function D(e,t,n,i,a,o,s){try{var c=e[o](s),r=c.value}catch(l){return void n(l)}c.done?t(r):Promise.resolve(r).then(i,a)}function j(e){return function(){var t=this,n=arguments;return new Promise(function(i,a){var o=e.apply(t,n);function s(e){D(o,i,a,s,c,"next",e)}function c(e){D(o,i,a,s,c,"throw",e)}s(void 0)})}}var Y=n(1013);let E=(()=>{class e{transform(e){const t=e.replace(/([A-Z])/g," $1");return t.charAt(0).toUpperCase()+t.slice(1)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=o.Yjl({name:"camelCaseToTitleCase",type:e,pure:!0}),e})();const F=["acc"],B=["panelContentKey1"],H=["panelContentKey2"],R=["panelContentKey3"];function V(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"lc-button",20),o.NdJ("buttonClick",function(){o.CHM(e);const t=o.oxw(4),n=o.MAs(10);return t.deleteButtonClicked(n)}),o._UZ(1,"i",21),o.qZA()}if(2&e){const e=o.oxw(4);o.Q6J("isDisabled",!e.stateIsEditing())}}const G=function(e,t){return{bi:!0,"bi-pencil-fill":e,"bi-check-circle-fill":t}};function W(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",13),o.TgZ(1,"div",14),o._uU(2),o.ALo(3,"date"),o.ALo(4,"titlecase"),o.qZA(),o.TgZ(5,"div",15),o._uU(6),o.ALo(7,"titlecase"),o.qZA(),o.TgZ(8,"div",16),o.TgZ(9,"lc-button",17),o.NdJ("buttonClick",function(){o.CHM(e);const t=o.oxw().$implicit,n=o.oxw(2);return n.editOrSaveButtonClicked(n.accordionItemFrom(t.id))}),o._UZ(10,"i",18),o.qZA(),o.YNc(11,V,2,1,"lc-button",19),o.qZA(),o.qZA()}if(2&e){const e=o.oxw().$implicit,t=o.oxw(2);o.xp6(2),o.hij(" ",("date"===t.panelHeaderKeys[0]?o.lcZ(3,5,e[t.panelHeaderKeys[0]]):e[t.panelHeaderKeys[0]])||"New "+o.lcZ(4,7,t.panelHeaderKeys[0])," "),o.xp6(4),o.Oqu(e[t.panelHeaderKeys[1]]||"New "+o.lcZ(7,9,t.panelHeaderKeys[1])),o.xp6(3),o.Q6J("isDisabled",t.isButtonDisabled(t.accordionItemFrom(e.id))),o.xp6(1),o.Q6J("ngClass",o.WLB(11,G,!t.isEditingAccordionItem(t.accordionItemFrom(e.id)),t.isEditingAccordionItem(t.accordionItemFrom(e.id)))),o.xp6(1),o.Q6J("ngIf",t.isEditingAccordionItem(t.accordionItemFrom(e.id)))}}function z(e,t){if(1&e&&(o.TgZ(0,"div",33),o.TgZ(1,"label",34),o._uU(2),o.ALo(3,"titlecase"),o.qZA(),o._UZ(4,"input",35,36),o.ALo(6,"titlecase"),o.qZA()),2&e){const e=o.oxw(2).$implicit,t=o.oxw(2);o.xp6(2),o.Oqu(o.lcZ(3,3,t.panelContentKeys[0])),o.xp6(2),o.Q6J("placeholder",o.lcZ(6,5,t.panelContentKeys[0]))("value",e[t.panelContentKeys[0]])}}function $(e,t){if(1&e&&(o.TgZ(0,"div",33),o.TgZ(1,"label",37),o._uU(2),o.ALo(3,"titlecase"),o.qZA(),o._UZ(4,"input",38,39),o.ALo(6,"titlecase"),o.qZA()),2&e){const e=o.oxw(2).$implicit,t=o.oxw(2);o.xp6(2),o.Oqu(o.lcZ(3,3,t.panelContentKeys[1])),o.xp6(2),o.Q6J("placeholder",o.lcZ(6,5,t.panelContentKeys[1]))("value",e[t.panelContentKeys[1]])}}function X(e,t){if(1&e&&(o.TgZ(0,"div",33),o.TgZ(1,"label",40),o._uU(2),o.ALo(3,"titlecase"),o.qZA(),o._UZ(4,"textarea",41,42),o.ALo(6,"titlecase"),o.qZA()),2&e){const e=o.oxw(2).$implicit,t=o.oxw(2);o.xp6(2),o.Oqu(o.lcZ(3,3,t.panelContentKeys[2])),o.xp6(2),o.Q6J("placeholder",o.lcZ(6,5,t.panelContentKeys[2]))("value",e[t.panelContentKeys[2]])}}function ee(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",43),o.TgZ(1,"lc-editable-image",27),o.NdJ("base64Computed",function(t){return o.CHM(e),o.oxw(4).imageEdited(t)}),o.qZA(),o.qZA()}if(2&e){const e=o.oxw(2).$implicit;o.xp6(1),o.Q6J("index",1)("src",e.imageUrls[1])("displayHeight",300)}}function te(e,t){1&e&&o.GkF(0)}function ne(e,t){1&e&&o.GkF(0)}function ie(e,t){1&e&&o.GkF(0)}function ae(e,t){if(1&e&&(o.TgZ(0,"div",44),o.YNc(1,te,1,0,"ng-container",45),o.YNc(2,ne,1,0,"ng-container",45),o.YNc(3,ie,1,0,"ng-container",45),o.qZA()),2&e){o.oxw();const e=o.MAs(2),t=o.MAs(4),n=o.MAs(6);o.xp6(1),o.Q6J("ngTemplateOutlet",e),o.xp6(1),o.Q6J("ngTemplateOutlet",t),o.xp6(1),o.Q6J("ngTemplateOutlet",n)}}function oe(e,t){1&e&&o.GkF(0)}function se(e,t){1&e&&o.GkF(0)}function ce(e,t){if(1&e&&(o.TgZ(0,"div",46),o.YNc(1,oe,1,0,"ng-container",45),o.YNc(2,se,1,0,"ng-container",45),o.qZA()),2&e){o.oxw();const e=o.MAs(2),t=o.MAs(4);o.xp6(1),o.Q6J("ngTemplateOutlet",e),o.xp6(1),o.Q6J("ngTemplateOutlet",t)}}function re(e,t){1&e&&o.GkF(0)}function le(e,t){if(1&e&&(o.TgZ(0,"div",47),o.YNc(1,re,1,0,"ng-container",45),o.qZA()),2&e){o.oxw();const e=o.MAs(6);o.xp6(1),o.Q6J("ngTemplateOutlet",e)}}function de(e,t){1&e&&o._UZ(0,"lc-spinner",58),2&e&&o.Q6J("colored",!0)}function ge(e,t){1&e&&o._UZ(0,"i",59)}function ue(e,t){1&e&&o._UZ(0,"i",60)}function pe(e,t){1&e&&o._UZ(0,"i",60)}function me(e,t){1&e&&(o.TgZ(0,"span"),o._uU(1,"Saving Changes:"),o.qZA())}function he(e,t){1&e&&(o.TgZ(0,"span"),o._uU(1,"Changes Successfully Saved"),o.qZA())}function fe(e,t){1&e&&(o.TgZ(0,"span"),o._uU(1,"Oh no!"),o.qZA())}function ve(e,t){1&e&&(o.TgZ(0,"span"),o._uU(1,"Oh no!"),o.qZA())}function Ce(e,t){1&e&&(o.TgZ(0,"span"),o._uU(1,"Please don't leave this page."),o.qZA())}function xe(e,t){1&e&&(o.TgZ(0,"span"),o._uU(1,"This window will close automatically."),o.qZA())}function ye(e,t){1&e&&(o.TgZ(0,"span"),o._uU(1,"You aren't authorized to make the intended change. Redirecting you to login page."),o.qZA())}function be(e,t){1&e&&(o.TgZ(0,"span"),o._uU(1,"Something went wrong. Try again later."),o.qZA())}function Ze(e,t){if(1&e&&(o.TgZ(0,"div",25),o.TgZ(1,"div",48),o.TgZ(2,"div",49),o.TgZ(3,"div",50),o.TgZ(4,"div",51),o.YNc(5,de,1,1,"lc-spinner",52),o.YNc(6,ge,1,0,"i",53),o.YNc(7,ue,1,0,"i",54),o.YNc(8,pe,1,0,"i",54),o.qZA(),o.TgZ(9,"b",55),o.YNc(10,me,2,0,"span",56),o.YNc(11,he,2,0,"span",56),o.YNc(12,fe,2,0,"span",56),o.YNc(13,ve,2,0,"span",56),o.qZA(),o.TgZ(14,"p",57),o.YNc(15,Ce,2,0,"span",56),o.YNc(16,xe,2,0,"span",56),o.YNc(17,ye,2,0,"span",56),o.YNc(18,be,2,0,"span",56),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e){const e=o.oxw(4);o.xp6(4),o.Q6J("ngSwitch",e.saveState),o.xp6(1),o.Q6J("ngSwitchCase",e.SaveState.Saving),o.xp6(1),o.Q6J("ngSwitchCase",e.SaveState.SuccessfullySaved),o.xp6(1),o.Q6J("ngSwitchCase",e.SaveState.UnsuccessfullySavedForbidden),o.xp6(1),o.Q6J("ngSwitchCase",e.SaveState.UnsuccessfullySavedOther),o.xp6(1),o.Q6J("ngSwitch",e.saveState),o.xp6(1),o.Q6J("ngSwitchCase",e.SaveState.Saving),o.xp6(1),o.Q6J("ngSwitchCase",e.SaveState.SuccessfullySaved),o.xp6(1),o.Q6J("ngSwitchCase",e.SaveState.UnsuccessfullySavedForbidden),o.xp6(1),o.Q6J("ngSwitchCase",e.SaveState.UnsuccessfullySavedOther),o.xp6(1),o.Q6J("ngSwitch",e.saveState),o.xp6(1),o.Q6J("ngSwitchCase",e.SaveState.Saving),o.xp6(1),o.Q6J("ngSwitchCase",e.SaveState.SuccessfullySaved),o.xp6(1),o.Q6J("ngSwitchCase",e.SaveState.UnsuccessfullySavedForbidden),o.xp6(1),o.Q6J("ngSwitchCase",e.SaveState.UnsuccessfullySavedOther)}}function Ie(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"form"),o.YNc(1,z,7,7,"ng-template",null,22,o.W1O),o.YNc(3,$,7,7,"ng-template",null,23,o.W1O),o.YNc(5,X,7,7,"ng-template",null,24,o.W1O),o.TgZ(7,"div",25),o.TgZ(8,"div",26),o.TgZ(9,"lc-editable-image",27),o.NdJ("base64Computed",function(t){return o.CHM(e),o.oxw(3).imageEdited(t)}),o.qZA(),o.qZA(),o.YNc(10,ee,2,3,"div",28),o.YNc(11,ae,4,3,"div",29),o.YNc(12,ce,3,2,"div",30),o.YNc(13,le,2,1,"div",31),o.qZA(),o.YNc(14,Ze,19,15,"div",32),o.qZA()}if(2&e){const e=o.oxw().$implicit,t=o.oxw(2);o.xp6(8),o.Q6J("ngClass",t.hasMultipleImages()?"order-3":"order-1"),o.xp6(1),o.Q6J("index",0)("src",e.imageUrls[0])("displayHeight",300),o.xp6(1),o.Q6J("ngIf",t.hasMultipleImages()),o.xp6(1),o.Q6J("ngIf",!t.hasMultipleImages()),o.xp6(1),o.Q6J("ngIf",t.hasMultipleImages()),o.xp6(1),o.Q6J("ngIf",t.hasMultipleImages()),o.xp6(1),o.Q6J("ngIf",!t.stateIsEditing())}}function Se(e,t){if(1&e&&(o.TgZ(0,"ngb-panel",10),o.YNc(1,W,12,14,"ng-template",11),o.YNc(2,Ie,15,9,"ng-template",12),o.qZA()),2&e){const e=t.$implicit,n=o.oxw(2);o.Q6J("id",n.accordionItemFrom(e.id))}}function Te(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"ngb-accordion",7,8),o.NdJ("shown",function(){return o.CHM(e),o.oxw().shown()})("hidden",function(){return o.CHM(e),o.oxw().hidden()}),o.YNc(2,Se,3,1,"ngb-panel",9),o.qZA()}if(2&e){const e=o.oxw();o.xp6(2),o.Q6J("ngForOf",e.data)}}function we(e,t){if(1&e&&(o.TgZ(0,"div",61),o.TgZ(1,"span",62),o._uU(2),o.ALo(3,"camelCaseToTitleCase"),o.qZA(),o.TgZ(4,"span",63),o._uU(5,"Click 'Add New' Below to add some!"),o.qZA(),o.qZA()),2&e){const e=o.oxw();o.xp6(2),o.hij("No ",o.lcZ(3,1,e.topLevelKey)," to Show")}}function Ae(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",64),o.TgZ(1,"h4",65),o._uU(2,"Delete Item"),o.qZA(),o.TgZ(3,"button",66),o.NdJ("click",function(){return o.CHM(e).$implicit.dismiss("cross")}),o.TgZ(4,"span",67),o._uU(5,"\xd7"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6,"div",68),o.TgZ(7,"b"),o._uU(8,"Are you sure you want to delete this item?"),o.qZA(),o._uU(9," This action cannot be undone. "),o.qZA(),o.TgZ(10,"div",69),o.TgZ(11,"lc-button",70),o.NdJ("buttonClick",function(){return o.CHM(e),o.oxw().deleteAccordionItem()}),o._uU(12," Permanently Delete "),o.qZA(),o.qZA()}}let Oe=(()=>{class e{constructor(e,t,n,i){this.sharedService=e,this.modalService=t,this.router=n,this.accordionConfig=i,this.tooltipMessage="",this.isLoading=!0,this.editingAccordionItem="",this.textContentChanged=new o.vpe,this.saveState=Y.SN.Browsing,this.SaveState=Y.SN,this.editedImagesBase64=[],this.newItemCounter=0,this.blankImagePath="assets/blank-image.jpg",this.changePayload=null,this.accordionConfig.closeOthers=!0}ngOnChanges(e){var t,n;if((null===(t=e.data)||void 0===t?void 0:t.previousValue)&&(null===(n=e.data)||void 0===n?void 0:n.currentValue)){const t=e.data.previousValue,n=e.data.currentValue;console.log(t,n);let i=n.filter(e=>e.isNewItem&&!t.find(t=>t.id===e.id));const a=i.length>0?i[0].id:null;a&&(this.saveState=Y.SN.Editing,this.editingAccordionItem=this.accordionItemFrom(a),setTimeout(()=>{this.accordion.toggle(this.accordionItemFrom(a))},0))}}shown(){}hidden(){this.changePayload&&this.textContentChanged.emit(this.changePayload),this.saveState=Y.SN.Browsing}addNewButtonClicked(){const e=this.newItemCounter.toString();let t={imageUrls:["assets/blank-image.jpg",...2===this.images?["assets/blank-image.jpg"]:[]],isNewItem:!0};for(let n of this.panelHeaderKeys)t[n]="date"===n?Date.now():"";for(let n of this.panelContentKeys)t[n]="";this.textContentChanged.emit({key:this.topLevelKey,id:e,mode:"UPDATE",val:t}),this.newItemCounter++,this.saveState=Y.SN.Editing,this.editingAccordionItem=this.accordionItemFrom(e)}editOrSaveButtonClicked(e){this.stateIsEditing()?(this.saveState=Y.SN.Saving,this.saveAccordionItem(e)):(this.saveState=Y.SN.Editing,this.editingAccordionItem=e,this.accordion.toggle(e))}deleteButtonClicked(e){this.deleteModalRef=this.modalService.open(e,{centered:!0})}deleteAccordionItem(){var e=this;return j(function*(){const t=e.getNewsItemPreviousImageUrls(e.editingAccordionItem);console.log(`previous urls: ${t}`),e.saveState=Y.SN.Saving,e.deleteModalRef.close(),yield Promise.all(t.map((t,n)=>e.deleteOldImageContent(e.editingAccordionItem,n))),e.saveTextContent(e.editingAccordionItem,null,"DELETE")})()}imageEdited(e){this.editedImagesBase64=this.editedImagesBase64.filter(t=>t.index!==e.index),this.editedImagesBase64.push(e)}isButtonDisabled(e){return!(this.stateIsBrowsing()||(this.stateIsUnsuccessfulOther()||this.stateIsEditing())&&this.isEditingAccordionItem(e))}isEditableNewsItem(e){return""===this.editingAccordionItem||this.isEditingAccordionItem(e)}isEditingAnyNewsItem(){return""===this.editingAccordionItem}isEditingAccordionItem(e){return this.editingAccordionItem===e}accordionItemFrom(e){return"accordion-item-"+e}accordionItemToId(e){return e.slice("accordion-item-".length)}deleteOldImageContent(e,t){var n=this;return j(function*(){const i=n.getNewsItemPreviousImageUrls(e)[t];return new Promise(e=>{if(i===n.blankImagePath)return e({index:t});n.sharedService.deleteImage({imageUrl:i}).toPromise().then(n=>e({index:t})).catch(e=>{403===e.status?(n.saveState=Y.SN.UnsuccessfullySavedForbidden,setTimeout(()=>n.router.navigateByUrl("/login"),1500)):n.saveState=Y.SN.UnsuccessfullySavedOther})})})()}saveImageContent(e,t){return new Promise(n=>{this.sharedService.putImage({content:t}).toPromise().then(t=>{this.editedImagesBase64=[],n({index:e,imageUrl:t.imageUrl})}).catch(e=>{403===e.status?(this.saveState=Y.SN.UnsuccessfullySavedForbidden,setTimeout(()=>this.router.navigateByUrl("/login"),1500)):this.saveState=Y.SN.UnsuccessfullySavedOther})})}saveAccordionItem(e){var t=this;return j(function*(){const n=[];console.log(`inside saveAccordionItem: editedImagesBase64 = ${JSON.stringify(t.editedImagesBase64,null,4)}`);for(let s of t.editedImagesBase64)n.push(t.deleteOldImageContent(e,s.index)),n.push(t.saveImageContent(s.index,s.newContent));const i=yield Promise.all(n),a=t.getNewsItemPreviousImageUrls(e),o=i.filter(e=>e.imageUrl);for(let e=0;e<o.length;e++)a[o[e].index]=o[e].imageUrl;t.saveTextContent(e,a,"UPDATE")})()}saveTextContent(e,t,n="UPDATE"){const i=this.data.find(t=>this.accordionItemToId(e)===t.id).isNewItem;let a=Object.assign(Object.assign({key:this.topLevelKey,mode:n},!i&&{id:this.accordionItemToId(e)}),"DELETE"!==n&&{val:{date:Date.now(),imageUrls:t}});if(i&&"DELETE"===n)return this.changePayload=Object.assign(Object.assign({},a),{id:this.editingAccordionItem}),this.saveState=Y.SN.SuccessfullySaved,this.editingAccordionItem="",void setTimeout(()=>{this.editingAccordionItem="",this.accordion.toggle(e)},1500);if("DELETE"!==n){const e=[this.input1,this.input2,this.input3];for(let t=0;t<this.panelContentKeys.length;t++)a.val[this.panelContentKeys[t]]=e[t].nativeElement.value}this.sharedService.putText(a).subscribe(t=>{t.success&&(this.changePayload=Object.assign(Object.assign({},a),{id:t.id}),this.saveState=Y.SN.SuccessfullySaved,this.editingAccordionItem="",setTimeout(()=>{this.editingAccordionItem="",this.accordion.toggle(e)},1500))},t=>{403===t.status?(this.saveState=Y.SN.UnsuccessfullySavedForbidden,setTimeout(()=>this.router.navigateByUrl("/login"),1500)):(this.saveState=Y.SN.UnsuccessfullySavedOther,setTimeout(()=>{this.editingAccordionItem="",this.accordion.toggle(e)},1e3))})}getNewsItemPreviousImageUrls(e){return this.data.find(t=>this.accordionItemToId(e)===t.id).imageUrls}hasMultipleImages(){return 2===this.images}stateIsBrowsing(){return this.saveState===Y.SN.Browsing}stateIsEditing(){return this.saveState===Y.SN.Editing}stateIsSaving(){return this.saveState===Y.SN.Saving}stateIsSuccessfullySaved(){return this.saveState===Y.SN.SuccessfullySaved}stateIsUnsuccessfulForbidden(){return this.saveState===Y.SN.UnsuccessfullySavedForbidden}stateIsUnsuccessfulOther(){return this.saveState===Y.SN.UnsuccessfullySavedOther}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(s.F),o.Y36(x.FF),o.Y36(a.F0),o.Y36(x.oC))},e.\u0275cmp=o.Xpm({type:e,selectors:[["lc-accordion-section"]],viewQuery:function(e,t){if(1&e&&(o.Gf(F,5),o.Gf(B,5),o.Gf(H,5),o.Gf(R,5)),2&e){let e;o.iGM(e=o.CRH())&&(t.accordion=e.first),o.iGM(e=o.CRH())&&(t.input1=e.first),o.iGM(e=o.CRH())&&(t.input2=e.first),o.iGM(e=o.CRH())&&(t.input3=e.first)}},inputs:{tooltipMessage:"tooltipMessage",data:"data",topLevelKey:"topLevelKey",images:"images",isLoading:"isLoading",editingAccordionItem:"editingAccordionItem",panelHeaderKeys:"panelHeaderKeys",panelContentKeys:"panelContentKeys"},outputs:{textContentChanged:"textContentChanged"},features:[o.TTD],decls:11,vars:6,consts:[[3,"title","tooltipMessage"],[3,"shown","hidden",4,"ngIf"],["class","no-items-container",4,"ngIf"],[1,"button-container"],[3,"buttonClick"],[1,"bi","bi-plus-lg","mr-2"],["deleteModalContent",""],[3,"shown","hidden"],["acc","ngbAccordion"],[3,"id",4,"ngFor","ngForOf"],[3,"id"],["ngbPanelHeader",""],["ngbPanelContent",""],[1,"accordion-header-flexbox"],[1,"accordion-header-item-end","accordion-vertical-container","font-weight-bold"],[1,"accordion-vertical-container","d-md-flex","d-none"],[1,"accordion-header-item-end","accordion-action-buttons"],["type","primary",1,"mr-1",3,"isDisabled","buttonClick"],[3,"ngClass"],["type","danger",3,"isDisabled","buttonClick",4,"ngIf"],["type","danger",3,"isDisabled","buttonClick"],[1,"bi","bi-trash-fill"],["firstInput",""],["secondInput",""],["thirdInput",""],[1,"form-row"],[1,"form-group","accordion-image-column","col-md-6",3,"ngClass"],[3,"index","src","displayHeight","base64Computed"],["class","form-group accordion-image-column col-md-6 order-4",4,"ngIf"],["class","form-item-container form-group col-md-6 order-2",4,"ngIf"],["class","form-item-container-fs form-group col-md-6 order-1",4,"ngIf"],["class","form-item-container-fs form-group col-md-6 order-2",4,"ngIf"],["class","form-row",4,"ngIf"],[1,"form-group"],["for","panel-content-key-1"],["type","text","id","panel-content-key-1",1,"form-control",3,"placeholder","value"],["panelContentKey1",""],["for","panel-content-key-2"],["type","text","id","panel-content-key-2",1,"form-control",3,"placeholder","value"],["panelContentKey2",""],["for","panel-content-key-3"],["id","panel-content-key-3","rows","3",1,"form-control",3,"placeholder","value"],["panelContentKey3",""],[1,"form-group","accordion-image-column","col-md-6","order-4"],[1,"form-item-container","form-group","col-md-6","order-2"],[4,"ngTemplateOutlet"],[1,"form-item-container-fs","form-group","col-md-6","order-1"],[1,"form-item-container-fs","form-group","col-md-6","order-2"],[1,"col-12"],[1,"alert","alert-primary","w-100"],[1,"saving-flexbox"],[1,"alert-spinner-or-icon",3,"ngSwitch"],[3,"colored",4,"ngSwitchCase"],["class","bi bi-check-circle-fill",4,"ngSwitchCase"],["class","bi bi-exclamation-circle-fill",4,"ngSwitchCase"],[1,"alert-bold-text","ml-3",3,"ngSwitch"],[4,"ngSwitchCase"],[1,"alert-regular-text","ml-2",3,"ngSwitch"],[3,"colored"],[1,"bi","bi-check-circle-fill"],[1,"bi","bi-exclamation-circle-fill"],[1,"no-items-container"],[1,"no-items-headline"],[1,"no-items-subheadline"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","danger",3,"buttonClick"]],template:function(e,t){1&e&&(o.TgZ(0,"lc-section",0),o.ALo(1,"camelCaseToTitleCase"),o.YNc(2,Te,3,1,"ngb-accordion",1),o.YNc(3,we,6,3,"div",2),o.TgZ(4,"div",3),o.TgZ(5,"lc-button",4),o.NdJ("buttonClick",function(){return t.addNewButtonClicked()}),o._UZ(6,"i",5),o.TgZ(7,"span"),o._uU(8,"Add New"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.YNc(9,Ae,13,0,"ng-template",null,6,o.W1O)),2&e&&(o.Q6J("title",o.lcZ(1,4,t.topLevelKey))("tooltipMessage",t.tooltipMessage),o.xp6(2),o.Q6J("ngIf",t.data),o.xp6(1),o.Q6J("ngIf",0===t.data.length))},directives:[I,i.O5,S.r,x.gY,i.sg,x.Gk,x.k9,x.gW,i.mk,J,i.tP,i.RF,i.n9,T.O],pipes:[E,i.uU,i.rS],styles:[".accordion-header-flexbox[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.accordion-vertical-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}.accordion-action-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end}.form-item-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-evenly}.form-item-container-fs[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start}.form-button-group-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start}.form-group[_ngcontent-%COMP%]{padding:0 10px}.saving-flexbox[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start}.accordion-header-item-end[_ngcontent-%COMP%]{width:150px}.button-container[_ngcontent-%COMP%]{margin-top:16px}.no-items-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;height:150px;background-color:#f7f7f7;align-items:center;border-radius:10px}.no-items-headline[_ngcontent-%COMP%]{font-weight:700}.spinner-grow[_ngcontent-%COMP%]{margin-right:3px}"]}),e})(),ke=(()=>{class e{transform(e){return Object.keys(e).length>0?Object.keys(e.newsItems).map(t=>Object.assign({id:t},e.newsItems[t])).sort((e,t)=>t.date-e.date):[]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=o.Yjl({name:"newsItemsData",type:e,pure:!0}),e})(),Me=(()=>{class e{transform(e){return Object.keys(e).length>0?e.featuredVideoLink:""}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=o.Yjl({name:"featuredVideoData",type:e,pure:!0}),e})(),Je=(()=>{class e{transform(e){return Object.keys(e).length>0?e.homeBackgroundImageUrl:""}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=o.Yjl({name:"homeBackgroundImageData",type:e,pure:!0}),e})();const Ne=function(){return["date","title"]},Ue=function(){return["title","author","content"]};let qe=(()=>{class e{constructor(){this.textContentChanged=new o.vpe}passTextContentChange(e){this.textContentChanged.emit(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Xpm({type:e,selectors:[["lc-home"]],inputs:{data:"data",isLoading:"isLoading"},outputs:{textContentChanged:"textContentChanged"},decls:6,vars:16,consts:[["title","Background Image","topLevelKey","homeBackgroundImageUrl","type","image",3,"value","textContentChanged"],["tooltipMessage","More recently saved news items are displayed first.","topLevelKey","newsItems",3,"data","panelHeaderKeys","panelContentKeys","images","isLoading","textContentChanged"],["title","Featured Video Link","topLevelKey","featuredVideoLink","type","text",3,"value","isSingleLine","textContentChanged"]],template:function(e,t){1&e&&(o.TgZ(0,"lc-single-editable-section",0),o.NdJ("textContentChanged",function(e){return t.passTextContentChange(e)}),o.ALo(1,"homeBackgroundImageData"),o.qZA(),o.TgZ(2,"lc-accordion-section",1),o.NdJ("textContentChanged",function(e){return t.passTextContentChange(e)}),o.ALo(3,"newsItemsData"),o.qZA(),o.TgZ(4,"lc-single-editable-section",2),o.NdJ("textContentChanged",function(e){return t.passTextContentChange(e)}),o.ALo(5,"featuredVideoData"),o.qZA()),2&e&&(o.Q6J("value",o.lcZ(1,8,t.data)),o.xp6(2),o.Q6J("data",o.lcZ(3,10,t.data))("panelHeaderKeys",o.DdM(14,Ne))("panelContentKeys",o.DdM(15,Ue))("images",1)("isLoading",t.isLoading),o.xp6(2),o.Q6J("value",o.lcZ(5,12,t.data))("isSingleLine",!0))},directives:[K,Oe],pipes:[Je,ke,Me],styles:[""]}),e})(),Le=(()=>{class e{transform(e){return Object.keys(e).length>0?e.aboutBackgroundImageUrl:""}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=o.Yjl({name:"aboutBackgroundImageData",type:e,pure:!0}),e})(),_e=(()=>{class e{transform(e){return Object.keys(e).length>0?e.aboutAuditionDeadline:""}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=o.Yjl({name:"aboutAuditionDeadline",type:e,pure:!0}),e})(),Qe=(()=>{class e{constructor(){this.textContentChanged=new o.vpe}passTextContentChange(e){this.textContentChanged.emit(e)}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Xpm({type:e,selectors:[["lc-about"]],inputs:{data:"data",isLoading:"isLoading"},outputs:{textContentChanged:"textContentChanged"},decls:4,vars:7,consts:[["title","Background Image","topLevelKey","aboutBackgroundImageUrl","type","image",3,"value","textContentChanged"],["title","Next Audition Deadline","topLevelKey","aboutAuditionDeadline","type","text",3,"value","isSingleLine","textContentChanged"]],template:function(e,t){1&e&&(o.TgZ(0,"lc-single-editable-section",0),o.NdJ("textContentChanged",function(e){return t.passTextContentChange(e)}),o.ALo(1,"aboutBackgroundImageData"),o.qZA(),o.TgZ(2,"lc-single-editable-section",1),o.NdJ("textContentChanged",function(e){return t.passTextContentChange(e)}),o.ALo(3,"aboutAuditionDeadline"),o.qZA()),2&e&&(o.Q6J("value",o.lcZ(1,3,t.data)),o.xp6(2),o.Q6J("value",o.lcZ(3,5,t.data))("isSingleLine",!0))},directives:[K],pipes:[Le,_e],styles:[""]}),e})();const Pe=["Lead Director","Assistant Director"],Ke=["President","Vice President","Secretary","Tour Director","Treasurer","Business Manager","Alumni Relations","Webmaster","Liturgical Commissioner"];let De=(()=>{class e{transform(e){return Object.keys(e).length>0?e.peopleBackgroundImageUrl:""}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=o.Yjl({name:"peopleBackgroundImageData",type:e,pure:!0}),e})(),je=(()=>{class e{transform(e){return Object.keys(e).length>0?Object.keys(e.directors).map(t=>Object.assign({id:t},e.directors[t])).sort((e,t)=>Be(e,t)):[]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=o.Yjl({name:"directorsData",type:e,pure:!0}),e})(),Ye=(()=>{class e{transform(e){return Object.keys(e).length>0?Object.keys(e.graduateStudents).map(t=>Object.assign({id:t},e.graduateStudents[t])).sort((e,t)=>e.date-t.date):[]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=o.Yjl({name:"graduateStudentsData",type:e,pure:!0}),e})(),Ee=(()=>{class e{transform(e){return Object.keys(e).length>0?Object.keys(e.officers).map(t=>Object.assign({id:t},e.officers[t])).sort((e,t)=>Fe(e,t)):[]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=o.Yjl({name:"officersData",type:e,pure:!0}),e})();const Fe=(e,t)=>Ke.findIndex(t=>e.position.includes(t))-Ke.findIndex(e=>t.position.includes(e)),Be=(e,t)=>Pe.findIndex(t=>e.position.includes(t))-Ke.findIndex(e=>t.position.includes(e)),He=function(){return["position","name"]},Re=function(){return["name","position","biography"]};let Ve=(()=>{class e{constructor(){this.textContentChanged=new o.vpe}passTextContentChange(e){this.textContentChanged.emit(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Xpm({type:e,selectors:[["lc-people"]],inputs:{data:"data"},outputs:{textContentChanged:"textContentChanged"},decls:8,vars:27,consts:[["title","Background Image","topLevelKey","peopleBackgroundImageUrl","type","image",3,"value","textContentChanged"],["tooltipMessage","1) Lead Director; 2) Assistant Director. Please check spelling :)","topLevelKey","directors",3,"data","panelHeaderKeys","panelContentKeys","images","textContentChanged"],["tooltipMessage","More recently saved graduate students are displayed last.","topLevelKey","graduateStudents",3,"data","panelHeaderKeys","panelContentKeys","images","textContentChanged"],["tooltipMessage","1) President; 2) Vice President; 3) Secretary; 4) Tour Director; 5) Treasurer; 6) Business Manager; 7) Alumni Relations; 8) Webmaster; 9) Liturgical Commissioner. Please check spelling :)","topLevelKey","officers",3,"data","panelHeaderKeys","panelContentKeys","images","textContentChanged"]],template:function(e,t){1&e&&(o.TgZ(0,"lc-single-editable-section",0),o.NdJ("textContentChanged",function(e){return t.passTextContentChange(e)}),o.ALo(1,"peopleBackgroundImageData"),o.qZA(),o.TgZ(2,"lc-accordion-section",1),o.NdJ("textContentChanged",function(e){return t.passTextContentChange(e)}),o.ALo(3,"directorsData"),o.qZA(),o.TgZ(4,"lc-accordion-section",2),o.NdJ("textContentChanged",function(e){return t.passTextContentChange(e)}),o.ALo(5,"graduateStudentsData"),o.qZA(),o.TgZ(6,"lc-accordion-section",3),o.NdJ("textContentChanged",function(e){return t.passTextContentChange(e)}),o.ALo(7,"officersData"),o.qZA()),2&e&&(o.Q6J("value",o.lcZ(1,13,t.data)),o.xp6(2),o.Q6J("data",o.lcZ(3,15,t.data))("panelHeaderKeys",o.DdM(21,He))("panelContentKeys",o.DdM(22,Re))("images",1),o.xp6(2),o.Q6J("data",o.lcZ(5,17,t.data))("panelHeaderKeys",o.DdM(23,He))("panelContentKeys",o.DdM(24,Re))("images",1),o.xp6(2),o.Q6J("data",o.lcZ(7,19,t.data))("panelHeaderKeys",o.DdM(25,He))("panelContentKeys",o.DdM(26,Re))("images",1))},directives:[K,Oe],pipes:[De,je,Ye,Ee],styles:[""]}),e})(),Ge=(()=>{class e{transform(e){return Object.keys(e).length>0?e.toursBackgroundImageUrl:""}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=o.Yjl({name:"toursBackgroundImageData",type:e,pure:!0}),e})(),We=(()=>{class e{transform(e){return Object.keys(e).length>0?Object.keys(e.tours).map(t=>Object.assign({id:t},e.tours[t])).sort((e,t)=>t.year-e.year):[]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=o.Yjl({name:"toursData",type:e,pure:!0}),e})();const ze=function(){return["year","location"]},$e=function(){return["year","location","description"]};let Xe=(()=>{class e{constructor(){this.textContentChanged=new o.vpe}passTextContentChange(e){this.textContentChanged.emit(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Xpm({type:e,selectors:[["lc-tours"]],inputs:{data:"data",isLoading:"isLoading"},outputs:{textContentChanged:"textContentChanged"},decls:4,vars:12,consts:[["title","Background Image","topLevelKey","toursBackgroundImageUrl","type","image",3,"value","textContentChanged"],["tooltipMessage","More recent tours are displayed first.","topLevelKey","tours",3,"data","panelHeaderKeys","panelContentKeys","images","isLoading","textContentChanged"]],template:function(e,t){1&e&&(o.TgZ(0,"lc-single-editable-section",0),o.NdJ("textContentChanged",function(e){return t.passTextContentChange(e)}),o.ALo(1,"toursBackgroundImageData"),o.qZA(),o.TgZ(2,"lc-accordion-section",1),o.NdJ("textContentChanged",function(e){return t.passTextContentChange(e)}),o.ALo(3,"toursData"),o.qZA()),2&e&&(o.Q6J("value",o.lcZ(1,6,t.data)),o.xp6(2),o.Q6J("data",o.lcZ(3,8,t.data))("panelHeaderKeys",o.DdM(10,ze))("panelContentKeys",o.DdM(11,$e))("images",2)("isLoading",t.isLoading))},directives:[K,Oe],pipes:[Ge,We],styles:[""]}),e})();const et=function(e){return{"navigation-tab":!0,active:e}},tt=function(){return{display:"flex","flex-direction":"column","justify-content":"center"}};function nt(e,t){if(1&e&&o._UZ(0,"lc-nav-tab",6),2&e){const e=t.$implicit,n=o.oxw();o.Q6J("ngClass",o.VKq(4,et,n.activeRoute===e))("name",e)("isActive",n.activeRoute===e)("ngStyle",o.DdM(6,tt))}}function it(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"lc-home",8),o.NdJ("textContentChanged",function(t){return o.CHM(e),o.oxw(2).modifyClientTextContent(t)}),o.qZA()}if(2&e){const e=o.oxw(2);o.Q6J("data",e.data)}}function at(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"lc-about",8),o.NdJ("textContentChanged",function(t){return o.CHM(e),o.oxw(2).modifyClientTextContent(t)}),o.qZA()}if(2&e){const e=o.oxw(2);o.Q6J("data",e.data)}}function ot(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"lc-people",8),o.NdJ("textContentChanged",function(t){return o.CHM(e),o.oxw(2).modifyClientTextContent(t)}),o.qZA()}if(2&e){const e=o.oxw(2);o.Q6J("data",e.data)}}function st(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"lc-tours",8),o.NdJ("textContentChanged",function(t){return o.CHM(e),o.oxw(2).modifyClientTextContent(t)}),o.qZA()}if(2&e){const e=o.oxw(2);o.Q6J("data",e.data)}}function ct(e,t){if(1&e&&(o.TgZ(0,"div"),o.YNc(1,it,1,1,"lc-home",7),o.YNc(2,at,1,1,"lc-about",7),o.YNc(3,ot,1,1,"lc-people",7),o.YNc(4,st,1,1,"lc-tours",7),o.qZA()),2&e){const e=o.oxw();o.xp6(1),o.Q6J("ngIf","home"===e.activeRoute),o.xp6(1),o.Q6J("ngIf","about"===e.activeRoute),o.xp6(1),o.Q6J("ngIf","people"===e.activeRoute),o.xp6(1),o.Q6J("ngIf","tours"===e.activeRoute)}}function rt(e,t){1&e&&(o.TgZ(0,"div",9),o._UZ(1,"div",10),o._UZ(2,"div",11),o._UZ(3,"div",12),o.qZA())}const lt=function(){return["home","about","people","tours"]},dt=function(e){return{"margin-left":e}},gt=[{path:"",component:(()=>{class e{constructor(e,t,n){this.sharedService=n,this.activeRoute="home",this.acceptableRoutes=["home","about","people","tours"],this.tabUnderlineMarginPercentage=0,this.isAdminDataLoading=!0,this.data={},e.queryParams.subscribe(e=>{this.acceptableRoutes.includes(e.tab)?(this.tabUnderlineMarginPercentage=25*this.acceptableRoutes.indexOf(e.tab),this.activeRoute=e.tab):t.navigateByUrl("admin?tab=home")})}ngOnInit(){this.sharedService.getJSONFileContents().subscribe(e=>{this.isAdminDataLoading=!1,this.data=e,console.log(e)},e=>{console.log(e)})}modifyClientTextContent(e){const{mode:t,id:n}=e;if(console.log(`in admin modifyClientTextContent with payload: ${JSON.stringify(e,null,4)}`),"DELETE"===t&&n)this.deleteInnerKeyFromObject(e);else if("DELETE"!==t&&n)this.modifyInnerKeyFromObject(e);else{if("DELETE"===t||n)throw new Error("Attempt was made to delete outer key.");this.modifyOuterKeyFromObject(e)}}modifyInnerKeyFromObject(e){const{key:t,id:n,val:i}=e,a=Object.assign(Object.assign({},this.data),{[t]:Object.assign(Object.assign({},this.data[t]),{[n]:i})}),o=Object.keys(this.data[t]).filter(e=>64!==e.length);for(let s of o)delete a[t][s];this.data=a}modifyOuterKeyFromObject(e){console.log("modifying outer key of data! payload: ",JSON.stringify(e,null,4));const{key:t,val:n}=e;this.data=Object.assign(Object.assign({},this.data),{[t]:n})}deleteInnerKeyFromObject(e){const{key:t,id:n}=e,i=Object.assign({},this.data);delete i[t][n];const a=Object.keys(this.data[t]).filter(e=>64!==e.length);for(let o of a)delete i[t][o];this.data=i}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(a.gz),o.Y36(a.F0),o.Y36(s.F))},e.\u0275cmp=o.Xpm({type:e,selectors:[["lc-admin"]],decls:6,vars:7,consts:[[1,"container"],[1,"navigation-tabs"],[3,"ngClass","name","isActive","ngStyle",4,"ngFor","ngForOf"],[1,"complete-tab-underline",3,"ngStyle"],[4,"ngIf"],["class","spinner-container",4,"ngIf"],[3,"ngClass","name","isActive","ngStyle"],[3,"data","textContentChanged",4,"ngIf"],[3,"data","textContentChanged"],[1,"spinner-container"],[1,"spinner-grow","text-primary"],[1,"spinner-grow","text-secondary"],[1,"spinner-grow","text-danger"]],template:function(e,t){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.YNc(2,nt,1,7,"lc-nav-tab",2),o.qZA(),o._UZ(3,"hr",3),o.YNc(4,ct,5,4,"div",4),o.YNc(5,rt,4,0,"div",5),o.qZA()),2&e&&(o.xp6(2),o.Q6J("ngForOf",o.DdM(4,lt)),o.xp6(1),o.Q6J("ngStyle",o.VKq(5,dt,t.tabUnderlineMarginPercentage+"%")),o.xp6(1),o.Q6J("ngIf",!t.isAdminDataLoading),o.xp6(1),o.Q6J("ngIf",t.isAdminDataLoading))},directives:[i.sg,i.PC,i.O5,d,i.mk,qe,Qe,Ve,Xe],styles:[".navigation-tabs[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;padding:10px 0;margin-top:30px}.navigation-tab[_ngcontent-%COMP%]{text-align:center;width:100%;font-size:22px;height:50px;cursor:pointer}.container[_ngcontent-%COMP%]{margin-bottom:50px}.complete-tab-underline[_ngcontent-%COMP%]{width:25%;margin:0;transition:.3s ease-in-out;background-color:#2f7ad0;height:3px}.active[_ngcontent-%COMP%]{font-weight:700}"]}),e})()}];let ut=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[a.Bz.forChild(gt)],a.Bz]}),e})();var pt=n(2626);let mt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[ut,i.ez,pt.m,a.Bz]]}),e})()}}]);